<!DOCTYPE html>
<html>
  <head>
    <title>babel-standalone</title>
    <script type="text/javascript" src="./scripts/assert.js"></script>
    <link href="./styles/assert.css" rel="stylesheet" type="text/css">
    <!-- Load Babel -->
    <!-- <script src="https://unpkg.com/babel-standalone@6/babel.js"></script> -->
    <script src="./scripts/babel.js"></script>
  </head>
  <body>
    <div id="output"></div>
    <!-- Your custom script here -->
    <script type="text/babel">
     const getMessage = () => "Hello World";
     document.getElementById('output').innerHTML = getMessage();
    </script>

    <script type="text/babel">
     const getMessage = () => "Hello World";
     let getMessageWithArgument = (arg) => `Hello ${arg}`;

     let hello = () => "Hello";
     let world = () => "World";

     const foo = {
       one: "odin",
       two: "dva"
     }

     const { one } = foo


	 
     // test block

     assert(true,"*Testing Babel*");
     assert( getMessage() == 'Hello World',  " run babel");
     assert( getMessageWithArgument(world()) == 'Hello World', world() + " run babel");
     assert( one == "odin", " Test deconstruction");

	 const evens = [2, 4, 6, 8]
	 
	 assert(true,"*const evens = [2, 4, 6, 8]*");

	 var odds = evens.map(v => v + 1);
	 assert( odds == "3,5,7,9", odds + " test odds");

	 var nums = evens.map((v, i) => v + i); // i is increment 1,2,3...
	 assert( nums.length == 4 && typeof(nums) == "object" && nums == "2,5,8,11", nums + " test nums array"); // incr by i "2,5,8,11"

	 var pairs = evens.map(v => ({even: v, odd: v + 1}));
	 assert( pairs == [{even: 2, odd: 3}, {even: 4, odd: 5}, {even: 6, odd: 7}, {even: 8, odd: 9}], "figure pairs");

     //     evens.map(v => alert(`${v}`));

     let numbers = [];

     for (var i=0; i<100; i++){
         numbers[i] = i;
     }
     //statment bodies
     let fives = [];
     numbers.forEach(v => {
         if (v % 5 === 0)
             fives.push(v);
     });

     assert(fives.length == 20, "100 contains 20 (mod x 5) numbers");

     // Lexical this
     var bob = {
         _name: "Bob",
         _friends: ["Andy", "John", "Jay"],
         printFriends() {
             this._friends.forEach(f =>
                 console.log(this._name + " knows " + f));
         }
     }

     bob.printFriends()
         
         

    </script>

  </body>
</html>

